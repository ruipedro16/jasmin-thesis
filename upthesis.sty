% margins 1-sided (used by lblopes, ricroc, rslopes, michel)
%\oddsidemargin 0.50in \evensidemargin 0in      %one-sided
%\topmargin -0.25in
%\textheight 9.0in 
%\textwidth  6.06in

%margins 2-sided  (used by apt, sbb, zp and nam)
%\oddsidemargin 0.25in \evensidemargin -0.09in  %two-sided
%\textheight 8.95in 
%\textwidth  6.05in
\setlength{\textwidth}{160mm} 
\setlength{\textheight}{240mm} 
\setlength{\oddsidemargin}{-0.4mm}
\setlength{\evensidemargin}{\oddsidemargin}
\setlength{\topmargin}{-5.4mm}
\setlength{\headsep}{5mm}
\setlength{\parskip}{\medskipamount}

% settings for paragraphs
%\setlength{\parindent}{0mm}
\setlength{\parskip}{3mm}
% defining the space between lines (1.5 is for double-space)
\renewcommand{\baselinestretch}{1.2}
% indications state 1.5 See Sigarra, but it seems too much

% don't let large figures hijack entire pages
\renewcommand\topfraction{.9}
\renewcommand\textfraction{.1}
\renewcommand\floatpagefraction{.8}

%
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{2}
\hyphenpenalty=1000
%\flushbottom %space at the end of the page
%     raggedbottom is better

% Encoding
\usepackage[utf8]{inputenc}
% see http://tex.stackexchange.com/questions/664/why-should-i-use-usepackaget1fontenc
\usepackage[T1]{fontenc}

%image placement
\usepackage{float}
\usepackage{graphicx}

% Use colour names
\usepackage[usenames,dvipsnames,table,xcdraw]{xcolor}

\definecolor{light-gray}{gray}{0.94}
\definecolor{gray-cell}{gray}{.80}

\usepackage{colortbl}
\usepackage{tabularx}
\usepackage{multicol}
\usepackage{multirow}

% rotating introduces some glitches with acronym. Acronyms used in the sidewaystable were marked as being multiply
% defined. They were expanded the 1st time on the table. Using \acs solved the issue
\usepackage{rotating}
\usepackage{threeparttable}

% used for code examples and other listings
\usepackage{listings}
\lstset{
  aboveskip={\baselineskip},
  % belowskip={1.5\baselineskip},
 % columns=fixed,
 % extendedchars=true,
  % prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
  %identifierstyle=\bf\ttfamily,
  keywordstyle=\color{Maroon}\bf\ttfamily,
  commentstyle=\normalfont\color{BlueViolet}\ttfamily,
  stringstyle=\color{OliveGreen},
  lineskip=-2.0pt,
  %from http://en.wikibooks.org/wiki/LaTeX/Packages/Listings
%  language=Octave,                % choose the language of the code
  basicstyle=\footnotesize\ttfamily,       % the size of the fonts that are used for the code
%  numbers=left,                   % where to put the line-numbers
%  numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
%  stepnumber=2,                   % the step between two line-numbers. If it's 1 each line 
%                                  % will be numbered
  numbersep=5pt,                  % how far the line-numbers are from the code
  backgroundcolor=\color{light-gray},  % choose the background color. You must 
                                       %add \usepackage{color}
%  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
%  showtabs=false,                 % show tabs within strings adding particular underscores
%  frame=shadowbox,
  frame=single,	                % adds a frame around the code
  frameround=tttt,	                % t or f(alse) for each corner
  framesep = 1pt,
  %framexleftmargin = -10pt,
  fillcolor=\color{white},
  rulecolor=\color{MidnightBlue},
  %rulesepcolor=\color{blue},
  tabsize=3,	                % sets default tabsize to 3 spaces
  captionpos=b,                   % sets the caption-position to bottom
  xleftmargin = 12pt,
  xrightmargin = 10pt,
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=true,        % sets if automatic breaks should only happen at whitespace
%  title=\lstname,                 % show the filename of files included with \lstinputlisting;
%                                  % also try caption instead of title
%  escapeinside={\%*}{*)},         % if you want to add a comment within your code
%  morekeywords={*,...}            % if you want to add more keywords to the set
   %escapechar=\#,                   % enable to right latex and be interpreted as such
}

\newcommand*\acronymname{Acronyms}
\newcommand*\acronymbiggest{IND-CPA}

  \@ifpackagewith{babel}{portuguese}{%
    \addto\captionsportuguese{\renewcommand*\lstlistlistingname{Lista de Blocos de Código}}%
    \addto\captionsportuguese{\renewcommand*\lstlistingname{Bloco de Código}}%
    \addto\captionsportuguese{\renewcommand*\acronymname{Acrónimos}}%
  }{ }

% This adds the possibility of having lists in paragraphs
\usepackage{paralist}

% Enhance/improve fonts, kerning and spacing
\usepackage{microtype}
% Need to be a font compatible with microtype (or remove microtype package)
\usepackage{lmodern} %% See for fonts http://www.tug.dk/FontCatalogue/ and http://www.tug.org/fonts/
%fonts examples: newcent, utopia, charter, concmath (may need cm-super)
% can also add the cm-super package (don't usepackage on the tex file,
% just install using the package manager)

% for monotype use courier
% http://www.macfreek.nl/mindmaster/LaTeX_Bold_Typewriter_Font
\usepackage{courier}
% fix the restriction for font-sizes with latex
% see http://www.tex.ac.uk/cgi-bin/texfaq2html?label=fontunavail
\usepackage{fix-cm}

% Math fonts
\usepackage{amsfonts}
\usepackage{amsmath}

% Bibliography
% for natbib see http://en.wikibooks.org/wiki/LaTeX/More_Bibliographies#Options
%\usepackage[authoryear,sort]{natbib}
\usepackage[numbers,sort&compress]{natbib}

% Acronyms package
\usepackage[printonlyused]{acronym}
\newcommand*\acronymfile{acros.tex}



% Enable multicoluns, used in the acronyms appendix
\usepackage{multicol}

% just for testing purposes (get ipsum text)
\usepackage{lipsum}

% URLs, linking, and pdf parameters
% break long urls, should be before hyperref
\usepackage[hyphens]{url}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Headers/Footers/Chapters
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\department#1{\gdef\@department{#1}}
\def\submitionplace#1{\gdef\@submitionplace{#1}}
\def\submitdate#1{\gdef\@submitdate{#1}}
\def\@title{}
\def\@author{}
\def\@department{}
\def\@supervisor{}
\def\@submitdate{}
\def\@indexfigname{}
\def\@indextablename{}

\def\beforepreface{%
        \pagenumbering{roman}
        \pagestyle{plain}
         % commenting the two lines will remove the cover and title pages
        %\coverp
        %\titlep
        %\newpage
}

\def\prefacesection#1{%
        \chapter*{#1}
        \addcontentsline{toc}{chapter}{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Acronyms
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\printacronyms{%
  \prefacesection{\acronymname}
%%  %%%%%%%%%%%%%%%%%%%%%%%%%
  %\begin{multicols}{2}
  %\setlength{\columnseprule}{0.5pt}
  %\setlength\columnsep{35pt}
%  \makeatletter
%  \columnsep 35\p@
%  \makeatother
  \begin{acronym}[\acronymbiggest] % the biggest acronym
    \input{\acronymfile}
  \end{acronym}
  %\end{multicols}
}
%% Format the chapter
%% for now only resets the acronyms expansions
\usepackage[clearempty]{titlesec}
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{10pt}{\Huge}[\acresetall]


\usepackage{fancyhdr}
\setlength{\headheight}{13.6pt} % current header uses at least this
\def\afterpreface{%
        \tableofcontents
        \addcontentsline{toc}{chapter}{\contentsname}
           \listoftables
           \addcontentsline{toc}{chapter}{\listtablename}
           \listoffigures
           \addcontentsline{toc}{chapter}{\listfigurename}
           \lstlistoflistings
           \addcontentsline{toc}{chapter}{\lstlistlistingname}
           \listofalgorithms
           \addcontentsline{toc}{chapter}{\listalgorithmname}
%           %%%%%%%%%%%%%%%%%%%%%%%%%
           \printacronyms
          \cleardoublepage
        \pagenumbering{arabic}
        %\pagestyle{headings}
        % See http://en.wikibooks.org/wiki/LaTeX/Page_Layout#Customizing_with_fancyhdr
        \pagestyle{fancy}
        \fancyhf{}
        \fancyhead[LE,RO]{\thepage}
        \fancyhead[RE]{\textit{ \nouppercase{\leftmark}} }
        \fancyhead[LO]{ \nouppercase{\rightmark} }
        
        \fancypagestyle{plain}{ %
          \fancyhf{} % remove everything
          \renewcommand{\headrulewidth}{0pt} % remove lines as well
          \renewcommand{\footrulewidth}{0pt}
          \fancyfoot[C]{ \thepage }
       }
}
